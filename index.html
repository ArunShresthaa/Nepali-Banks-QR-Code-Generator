<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>QR Code Generator</title>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
	<script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
	<style>
		body {
			font-family: Arial, sans-serif;
			text-align: center;
			background-color: #f0f0f0;
			margin: 0;
			padding: 0;
		}

		.container {
			max-width: 500px;
			margin: 0 auto;
			padding: 20px;
			background-color: #fff;
			border-radius: 5px;
			box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
		}

		.error {
			color: red;
		}

		.form-group {
			display: flex;
			align-items: center;
			justify-content: space-between;
			margin-bottom: 10px;
		}

		.form-label {
			flex: 1;
			text-align: left;
			padding-right: 10px;
		}

		.form-input {
			flex: 2;
			width: 100%;
			padding: 10px;
			border: 1px solid #ccc;
			border-radius: 3px;
		}

		.btn-submit {
			background-color: #007BFF;
			color: #fff;
			border: none;
			border-radius: 3px;
			padding: 10px 20px;
			cursor: pointer;
		}

		.qr-code-container {
			background-color: white;
			padding: 10px;
			border: 1px solid #ccc;
			border-radius: 3px;
			margin-top: 20px;
		}

		#downloadButton {
			background-color: #007BFF;
			color: #fff;
			border: none;
			border-radius: 3px;
			padding: 10px 20px;
			cursor: pointer;
		}

		.select-bank {
			width: 100%;
			padding: 10px;
		}
	</style>
</head>

<body>
	<div class="container">
		<h1>Nepali Banks QR Code Generator</h1>

		<form id="qrCodeForm">
			<div class="form-group">
				<label for="fullName" class="form-label">Full Name:</label>
				<input type="text" id="fullName" name="fullName" class="form-input" placeholder="Enter Full Name">
			</div>

			<div class="form-group">
				<label for="accountNumber" class="form-label">Account Number:</label>
				<input type="text" id="accountNumber" name="accountNumber" class="form-input"
					placeholder="Account Number">
			</div>

			<div class="form-group">
				<label for="bankSelect" class="form-label">Bank:</label>
				<select id="bankSelect" class="select-bank">
					<option value="">Select a Bank</option>

					<option value="ACE DEVELOPMENT BANK LIMITED" data-swift="ACDENPKA">ACE DEVELOPMENT BANK LIMITED
					</option>
					<option value="AGRICULTURAL DEVELOPMENT BANK LTD" data-swift="ADBLNPKA">AGRICULTURAL DEVELOPMENT
						BANK LTD</option>
					<option value="BANK OF KATHMANDU LIMITED" data-swift="BOKLNPKA">BANK OF KATHMANDU LIMITED</option>
					<option value="CENTURY COMMERCIAL BANK LIMITED" data-swift="CCBNNPKA">CENTURY COMMERCIAL BANK
						LIMITED</option>
					<option value="CITIZENS BANK INTERNATIONAL LIMITED" data-swift="CTZNNPKA">CITIZENS BANK
						INTERNATIONAL LIMITED</option>
					<option value="CIVIL BANK LIMITED" data-swift="CIVLNPKA">CIVIL BANK LIMITED</option>
					<option value="EVEREST BANK LTD." data-swift="EVBLNPKA">EVEREST BANK LTD.</option>
					<option value="GLOBAL IME BANK LIMITED" data-swift="GLBBNPKA">GLOBAL IME BANK LIMITED</option>
					<option value="GRAND BANK NEPAL LIMITED" data-swift="DCBNNPKA">GRAND BANK NEPAL LIMITED</option>
					<option value="HIMALAYAN BANK LTD." data-swift="HIMANPKA">HIMALAYAN BANK LTD.</option>
					<option value="JANATA BANK NEPAL LIMITED" data-swift="JBNLNPKA">JANATA BANK NEPAL LIMITED</option>
					<option value="KASTHAMANDAP DEVELOPMENT BANK LTD" data-swift="KDBLNPKA">KASTHAMANDAP DEVELOPMENT
						BANK LTD</option>
					<option value="KIST BANK LIMITED" data-swift="KISTNPKA">KIST BANK LIMITED</option>
					<option value="KUMARI BANK LTD" data-swift="KMBLNPKA">KUMARI BANK LTD</option>
					<option value="LAXMI BANK LIMITED" data-swift="LXBLNPKA">LAXMI BANK LIMITED</option>
					<option value="LUMBINI BANK LIMITED" data-swift="LUBLNPKA">LUMBINI BANK LIMITED</option>
					<option value="MACHHAPUCHCHHRE BANK LIMITED" data-swift="MBLNNPKA">MACHHAPUCHCHHRE BANK LIMITED
					</option>
					<option value="MEGA BANK NEPAL LIMITED" data-swift="MBNLNPKA">MEGA BANK NEPAL LIMITED</option>
					<option value="NABIL BANK LIMITED" data-swift="NARBNPKA">NABIL BANK LIMITED</option>
					<option value="NEPAL BANGLADESH BANK LIMITED" data-swift="NPBBNPKA">NEPAL BANGLADESH BANK LIMITED
					</option>
					<option value="NEPAL BANK LIMITED" data-swift="NEBLNPKA">NEPAL BANK LIMITED</option>
					<option value="NEPAL CREDIT AND COMMERCE BANK LTD." data-swift="NBOCNPKANRD">NEPAL CREDIT AND
						COMMERCE BANK LTD.
					</option>
					<option value="NEPAL CREDIT AND COMMERCE BANK LTD." data-swift="NBOCNPKA">NEPAL CREDIT AND COMMERCE
						BANK LTD.</option>
					<option value="NEPAL INVESTMENT BANK LTD." data-swift="NIBLNPKT">NEPAL INVESTMENT BANK LTD.</option>
					<option value="NEPAL RASTRA BANK" data-swift="NRBLNPKAFED">NEPAL RASTRA BANK</option>
					<option value="NEPAL RASTRA BANK" data-swift="NRBLNPKA">NEPAL RASTRA BANK</option>
					<option value="NEPAL SBI BANK LTD. KATHMANDU" data-swift="NSBINPKA001">NEPAL SBI BANK LTD. KATHMANDU
					</option>
					<option value="NEPAL SBI BANK LTD. KATHMANDU" data-swift="NSBINPKA">NEPAL SBI BANK LTD. KATHMANDU
					</option>
					<option value="NIC ASIA BANK LIMITED" data-swift="NICENPKA">NIC ASIA BANK LIMITED</option>
					<option value="NMB BANK LTD" data-swift="NMBBNPKA">NMB BANK LTD</option>
					<option value="PRIME COMMERCIAL BANK LTD" data-swift="PCBLNPKA">PRIME COMMERCIAL BANK LTD</option>
					<option value="RASTRIYA BANIJYA BANK" data-swift="RBBANPKA">RASTRIYA BANIJYA BANK</option>
					<option value="SANIMA BANK LIMITED" data-swift="SNMANPKA">SANIMA BANK LIMITED</option>
					<option value="SIDDHARTHA BANK LIMITED" data-swift="SIDDNPKA">SIDDHARTHA BANK LIMITED</option>
					<option value="STANDARD CHARTERED BANK NEPAL LIMITED" data-swift="SCBLNPKA">STANDARD CHARTERED BANK
						NEPAL LIMITED
					</option>
					<option value="SUNRISE BANK LIMITED" data-swift="SRBLNPKA">SUNRISE BANK LIMITED</option>
					<option value="TOURISM DEVELOPMENT BANK LTD." data-swift="TDBLNPKA">TOURISM DEVELOPMENT BANK LTD.
					</option>
					<!-- Add more bank options here -->
				</select>
			</div>

			<button type="submit" class="btn-submit">Generate QR Code</button>
			<p id="errorMessage" class="error"></p>
		</form>

		<div class="qr-code-container">
			<div id="qrcode"></div>
		</div>

		<button id="downloadButton" style="display: none;">Download QR Code</button>
	</div>

	<script>
		let BCode = "";

		const bankSelect = document.getElementById("bankSelect");

		bankSelect.addEventListener("change", function () {
			const selectedOption = this.options[this.selectedIndex];
			const swiftCode = selectedOption.getAttribute("data-swift");
			BCode = swiftCode;
		});

		$(document).ready(function () {
			const qrCodeForm = document.getElementById("qrCodeForm");
			const qrCodeContainer = document.getElementById("qrcode");
			const errorMessage = document.getElementById("errorMessage");
			const downloadButton = document.getElementById("downloadButton");
			const accountNumberInput = document.getElementById("accountNumber");

			qrCodeForm.addEventListener("submit", function (e) {
				e.preventDefault();

				const fullName = document.getElementById("fullName").value;
				const accNumber = accountNumberInput.value;

				if (fullName && accNumber && BCode) {
					const data = {
						accountNumber: accNumber,
						accountName: fullName,
						bankCode: BCode
					};

					const qr = new QRious({
						value: JSON.stringify(data),
						size: 200, // Adjust the size as needed
						background: 'white', // White background color
						foreground: 'black' // QR code color
					});

					qrCodeContainer.innerHTML = '';
					qrCodeContainer.appendChild(qr.image);
					errorMessage.textContent = '';

					downloadButton.style.display = 'block';
				} else {
					errorMessage.textContent = 'All fields are required.';
					qrCodeContainer.innerHTML = '';
					downloadButton.style.display = 'none';
				}
			});

			downloadButton.addEventListener("click", function () {
				const qrCodeImage = qrCodeContainer.querySelector('img');
				const fullName = document.getElementById("fullName").value;
				const fileName = `${fullName}-Qrcode.png`;
				const link = document.createElement('a');
				link.href = qrCodeImage.src;
				link.download = fileName;
				link.click();
			});

			accountNumberInput.addEventListener("input", function () {
				this.value = this.value.toUpperCase();
			});
		});
	</script>
</body>

</html>